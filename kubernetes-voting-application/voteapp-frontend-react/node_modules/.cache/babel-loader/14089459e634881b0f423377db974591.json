{"ast":null,"code":"import _classCallCheck from\"/home/venkas/kubernetes/assignment2/voteapp-frontend-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/venkas/kubernetes/assignment2/voteapp-frontend-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/venkas/kubernetes/assignment2/voteapp-frontend-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/venkas/kubernetes/assignment2/voteapp-frontend-react/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/venkas/kubernetes/assignment2/voteapp-frontend-react/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Vote=/*#__PURE__*/function(_Component){_inherits(Vote,_Component);var _super=_createSuper(Vote);function Vote(){var _this;_classCallCheck(this,Vote);_this=_super.call(this);//configure the APIHOSTPORT, this is the public IP address of the host that the API server is running on\n_this.APIHOSTPORT=\"\".concat(process.env.REACT_APP_APIHOSTPORT);_this.state={vote:0};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this;}_createClass(Vote,[{key:\"handleClick\",value:function handleClick(){var _this2=this;//implement the handleClick function which will be called when the user clicks on the voting button\n//this invokes an AJAX request to the API to vote on the current programming language\nvar url=\"http://\".concat(this.APIHOSTPORT,\"/languages/\").concat(this.props.id,\"/vote\");axios.get(url).then(function(response){return _this2.setState({vote:_this2.state.vote+1});});}},{key:\"render\",value:function render(){//provide implementation for the render function to render the HTML for the Vote component\nreturn/*#__PURE__*/_jsxs(\"div\",{id:this.props.id,children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:this.handleClick,type:\"button\",class:\"btn btn-outline-success\",children:\"+1\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Votes\"}),\": \",this.state.vote]})]});}}]);return Vote;}(Component);//export the Vote class, allows the ProgrammingLanguage component to import it\nexport default Vote;","map":{"version":3,"sources":["/home/venkas/kubernetes/assignment2/voteapp-frontend-react/src/components/Vote.js"],"names":["React","Component","axios","Vote","APIHOSTPORT","process","env","REACT_APP_APIHOSTPORT","state","vote","handleClick","bind","url","props","id","get","then","response","setState"],"mappings":"gtBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2FAEMC,CAAAA,I,4FACJ,eAAe,sCACb,wBAEA;AACA,MAAKC,WAAL,WAAsBC,OAAO,CAACC,GAAR,CAAYC,qBAAlC,EAEA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAE,CADK,CAAb,CAIA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CAVa,aAWd,C,4CAED,sBAAe,iBACb;AACA;AACA,GAAIC,CAAAA,GAAG,kBAAa,KAAKR,WAAlB,uBAA2C,KAAKS,KAAL,CAAWC,EAAtD,SAAP,CACAZ,KAAK,CAACa,GAAN,CAAUH,GAAV,EACGI,IADH,CACQ,SAAAC,QAAQ,QAAI,CAAA,MAAI,CAACC,QAAL,CAAc,CAACT,IAAI,CAAE,MAAI,CAACD,KAAL,CAAWC,IAAX,CAAgB,CAAvB,CAAd,CAAJ,EADhB,EAED,C,sBAED,iBAAU,CACR;AACA,mBACE,aAAK,EAAE,CAAE,KAAKI,KAAL,CAAWC,EAApB,wBACE,eAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAE,KAAKJ,WAAzC,CAAsD,IAAI,CAAC,QAA3D,CAAoE,KAAK,CAAC,yBAA1E,gBADF,cAEE,oCACE,4BADF,MACiB,KAAKF,KAAL,CAAWC,IAD5B,GAFF,GADF,CAQD,C,kBAhCgBR,S,EAmCnB;AACA,cAAeE,CAAAA,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\n\nclass Vote extends Component{\n  constructor () {\n    super();\n\n    //configure the APIHOSTPORT, this is the public IP address of the host that the API server is running on\n    this.APIHOSTPORT = `${process.env.REACT_APP_APIHOSTPORT}`;\n\n    this.state = {\n      vote: 0\n    }\n    \n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  handleClick () {\n    //implement the handleClick function which will be called when the user clicks on the voting button\n    //this invokes an AJAX request to the API to vote on the current programming language\n    var url = `http://${this.APIHOSTPORT}/languages/${this.props.id}/vote`;\n    axios.get(url)\n      .then(response => this.setState({vote: this.state.vote+1}))\n  }\n\n  render () {\n    //provide implementation for the render function to render the HTML for the Vote component\n    return (\n      <div id={this.props.id}>\n        <button className='button' onClick={this.handleClick} type=\"button\" class=\"btn btn-outline-success\">+1</button>\n        <div>\n          <b>Votes</b>: {this.state.vote}\n        </div>\n      </div>\n    )\n  }\n}\n\n//export the Vote class, allows the ProgrammingLanguage component to import it\nexport default Vote;"]},"metadata":{},"sourceType":"module"}